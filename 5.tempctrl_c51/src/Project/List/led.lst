C51 COMPILER V9.52.0.0   LED                                                               03/31/2022 21:48:08 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN .\Output\led.obj
COMPILER INVOKED BY: H:\studio\Keil4_C51\C51\BIN\C51.EXE ..\Source\led.c LARGE BROWSE INCDIR(..\Source;..\User) DEBUG OB
                    -JECTEXTEND PRINT(.\List\led.lst) TABS(2) OBJECT(.\Output\led.obj)

line level    source

   1          
   2          #include "led.h"  
   3          
   4           /**************************************************************************
   5          功能描述：点亮一个指定的指示灯(D1、D2、D3、D4)
   6          入口参数：uint8 led_idx  (可取值LED_1、LED_2、LED_3、LED_4)
   7          返回值：无
   8           *************************************************************************/
   9          void led_on(uint8 led_idx)
  10          {
  11   1        switch(led_idx)
  12   1        {
  13   2          case LED_1:
  14   2            LED_D1=0;        //控制P2.6端口输出低电平，点亮用户指示灯D1
  15   2            break;    
  16   2          case LED_2:
  17   2            LED_D2=0;        //控制P2.7端口输出低电平，点亮用户指示灯D2
  18   2            break;
  19   2          case LED_3:
  20   2            LED_D3=0;        //控制P7.2端口输出低电平，点亮用户指示灯D3
  21   2            break;    
  22   2          case LED_4:
  23   2            LED_D4=0;        //控制P7.1端口输出低电平，点亮用户指示灯D4
  24   2            break;
  25   2          default:
  26   2            break;
  27   2        }
  28   1      }
  29          
  30          /**************************************************************************
  31          功能描述：熄灭一个指定的指示灯(D1、D2、D3、D4)
  32          入口参数：uint8 led_idx  (可取值LED_1、LED_2、LED_3、LED_4)
  33          返回值：无
  34           *************************************************************************/
  35          void led_off(uint8 led_idx)
  36          {
  37   1        switch(led_idx)
  38   1        {
  39   2          case LED_1:
  40   2            LED_D1=1;        //控制P2.6端口输出高电平，熄灭用户指示灯D1
  41   2            break;    
  42   2          case LED_2:
  43   2            LED_D2=1;        //控制P2.7端口输出高电平，熄灭用户指示灯D2
  44   2            break;
  45   2          case LED_3:
  46   2            LED_D3=1;        //控制P7.2端口输出高电平，熄灭用户指示灯D3
  47   2            break;    
  48   2          case LED_4:
  49   2            LED_D4=1;        //控制P7.1端口输出高电平，熄灭用户指示灯D4
  50   2            break;
  51   2          default:
  52   2            break;
  53   2        }
  54   1      }
C51 COMPILER V9.52.0.0   LED                                                               03/31/2022 21:48:08 PAGE 2   

  55          
  56          /**************************************************************************
  57          功能描述：翻转一个指定的指示灯(D1、D2、D3、D4)
  58          入口参数：uint8 led_idx  (可取值LED_1、LED_2、LED_3、LED_4)
  59          返回值：无
  60          *************************************************************************/
  61          void led_toggle(uint8 led_idx)
  62          {
  63   1        switch(led_idx)
  64   1        {
  65   2          case LED_1:
  66   2            LED_D1=~LED_D1;    //控制P2.6端口输出不同于上一次的电平，翻转用户指示灯D1
  67   2            break;    
  68   2          case LED_2:
  69   2            LED_D2=~LED_D2;    //控制P2.7端口输出不同于上一次的电平，翻转用户指示灯D2
  70   2            break;
  71   2          case LED_3:
  72   2            LED_D3=~LED_D3;    //控制P7.2端口输出不同于上一次的电平，翻转用户指示灯D3
  73   2            break;    
  74   2          case LED_4:
  75   2            LED_D4=~LED_D4;    //控制P7.1端口输出不同于上一次的电平，翻转用户指示灯D4
  76   2            break;
  77   2          default:
  78   2            break;
  79   2        }
  80   1      }
  81          
  82          /**************************************************************************
  83          功能描述：点亮开发板上的4个指示灯(D1、D2、D3、D4)
  84          入口参数：无
  85          返回值：无
  86           *************************************************************************/
  87          void leds_on(void)
  88          {
  89   1          LED_D1=0;        //控制P2.6端口输出低电平，点亮用户指示灯D1
  90   1          LED_D2=0;        //控制P2.7端口输出低电平，点亮用户指示灯D2
  91   1          LED_D3=0;        //控制P7.2端口输出低电平，点亮用户指示灯D3
  92   1          LED_D4=0;        //控制P7.1端口输出低电平，点亮用户指示灯D4
  93   1      }
  94          
  95          /**************************************************************************
  96          功能描述：熄灭开发板上的4个指示灯(D1、D2、D3、D4)
  97          入口参数：无
  98          返回值：无
  99           *************************************************************************/
 100          void leds_off(void)
 101          {
 102   1          LED_D1=1;        //控制P2.6端口输出高电平，熄灭用户指示灯D1
 103   1          LED_D2=1;        //控制P2.7端口输出高电平，熄灭用户指示灯D2
 104   1          LED_D3=1;        //控制P7.2端口输出高电平，熄灭用户指示灯D3
 105   1          LED_D4=1;        //控制P7.1端口输出高电平，熄灭用户指示灯D4
 106   1      }
 107          
 108          /**************************************************************************
 109          功能描述：流水灯
 110          入口参数：无
 111          返回值：无
 112           *************************************************************************/
 113          void LED_Blink(void)
 114          {
 115   1          leds_off();           //熄灭所有用户指示灯
 116   1          led_on(LED_1);        //点亮用户指示灯D1
C51 COMPILER V9.52.0.0   LED                                                               03/31/2022 21:48:08 PAGE 3   

 117   1          delay_ms(300);
 118   1          leds_off();           //熄灭所有用户指示灯
 119   1          led_on(LED_2);        //点亮用户指示灯D2
 120   1          delay_ms(300);
 121   1          leds_off();           //熄灭所有用户指示灯
 122   1          led_on(LED_3);        //点亮用户指示灯D3
 123   1          delay_ms(300);
 124   1          leds_off();           //熄灭所有用户指示灯
 125   1          led_on(LED_4);        //点亮用户指示灯D4
 126   1          delay_ms(300);
 127   1          leds_off();           //熄灭所有用户指示灯
 128   1          delay_ms(300);
 129   1      }
 130          
 131          /*********************************END FILE********************************************/ 
 132          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    169    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
